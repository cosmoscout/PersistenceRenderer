!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("noUiSlider")):"function"==typeof define&&define.amd?define("PersistenceRenderer",["noUiSlider"],e):"object"==typeof exports?exports.PersistenceRenderer=e(require("noUiSlider")):t.PersistenceRenderer=e(t.noUiSlider)}(window,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=75)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(40))},function(t,e,n){var i=n(0),o=n(24),r=n(2),s=n(26),a=n(31),c=n(58),u=o("wks"),h=i.Symbol,l=c?h:h&&h.withoutSetter||s;t.exports=function(t){return r(u,t)||(a&&r(h,t)?u[t]=h[t]:u[t]=l("Symbol."+t)),u[t]}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(3);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(48),o=n(0),r=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?r(i[t])||r(o[t]):i[t]&&i[t][e]||o[t]&&o[t][e]}},function(t,e,n){var i=n(6),o=n(10),r=n(18);t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(6),o=n(20),r=n(5),s=n(19),a=Object.defineProperty;e.f=i?a:function(t,e,n){if(r(t),e=s(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var i,o,r,s,a=n(39),c=n(25),u=n(0),h=n(8),l=n(55),d=n(15),f=n(56),p=n(57),v=n(59),g=n(4),x=n(11),y=n(60),m=n(7),b=n(17),w=n(61),P=n(67),S=n(68),E=n(34).set,D=n(70),T=n(71),_=n(72),C=n(37),j=n(73),I=n(23),B=n(30),O=n(1),M=n(74),N=O("species"),k="Promise",L=I.get,F=I.set,A=I.getterFor(k),U=l,Y=u.TypeError,R=u.document,$=u.process,V=h("fetch"),z=C.f,H=z,q="process"==m($),X=!!(R&&R.createEvent&&u.dispatchEvent),G=B(k,(function(){if(!(b(U)!==String(U))){if(66===M)return!0;if(!q&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype.finally)return!0;if(M>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[N]=e,!(t.then((function(){}))instanceof e)})),W=G||!P((function(t){U.all(t).catch((function(){}))})),K=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},J=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;D((function(){for(var o=e.value,r=1==e.state,s=0;i.length>s;){var a,c,u,h=i[s++],l=r?h.ok:h.fail,d=h.resolve,f=h.reject,p=h.domain;try{l?(r||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?a=o:(p&&p.enter(),a=l(o),p&&(p.exit(),u=!0)),a===h.promise?f(Y("Promise-chain cycle")):(c=K(a))?c.call(a,d,f):d(a)):f(o)}catch(t){p&&!u&&p.exit(),f(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},Q=function(t,e,n){var i,o;X?((i=R.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:e,reason:n},(o=u["on"+t])?o(i):"unhandledrejection"===t&&_("Unhandled promise rejection",n)},Z=function(t,e){E.call(u,(function(){var n,i=e.value;if(tt(e)&&(n=j((function(){q?$.emit("unhandledRejection",i,t):Q("unhandledrejection",t,i)})),e.rejection=q||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){E.call(u,(function(){q?$.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},nt=function(t,e,n,i){return function(o){t(e,n,o,i)}},it=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,J(t,e,!0))},ot=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw Y("Promise can't be resolved itself");var o=K(n);o?D((function(){var i={done:!1};try{o.call(n,nt(ot,t,i,e),nt(it,t,i,e))}catch(n){it(t,i,n,e)}})):(e.value=n,e.state=1,J(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};G&&(U=function(t){y(this,U,k),x(t),i.call(this);var e=L(this);try{t(nt(ot,this,e),nt(it,this,e))}catch(t){it(this,e,t)}},(i=function(t){F(this,{type:k,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U.prototype,{then:function(t,e){var n=A(this),i=z(S(this,U));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=q?$.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&J(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i,e=L(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(it,t,e)},C.f=z=function(t){return t===U||t===r?new o(t):H(t)},c||"function"!=typeof l||(s=l.prototype.then,d(l.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return T(U,V.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:G},{Promise:U}),p(U,k,!1,!0),v(k),r=h(k),a({target:k,stat:!0,forced:G},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),a({target:k,stat:!0,forced:c||G},{resolve:function(t){return T(c&&this===r?U:this,t)}}),a({target:k,stat:!0,forced:W},{all:function(t){var e=this,n=z(e),i=n.resolve,o=n.reject,r=j((function(){var n=x(e.resolve),r=[],s=0,a=1;w(t,(function(t){var c=s++,u=!1;r.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,r[c]=t,--a||i(r))}),o)})),--a||i(r)}));return r.error&&o(r.value),n.promise},race:function(t){var e=this,n=z(e),i=n.reject,o=j((function(){var o=x(e.resolve);w(t,(function(t){o.call(e,t).then(n.resolve,i)}))}));return o.error&&i(o.value),n.promise}})},function(t,e,n){var i=n(6),o=n(41),r=n(18),s=n(14),a=n(19),c=n(2),u=n(20),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=s(t),e=a(e,!0),u)try{return h(t,e)}catch(t){}if(c(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){var i=n(42),o=n(43);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(0),o=n(9),r=n(2),s=n(16),a=n(17),c=n(23),u=c.get,h=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||r(n,"name")||o(n,"name",e),h(n).source=l.join("string"==typeof e?e:"")),t!==i?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},function(t,e,n){var i=n(0),o=n(9);t.exports=function(t,e){try{o(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(22),o=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return o.call(t)}),t.exports=i.inspectSource},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(6),o=n(3),r=n(21);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(0),o=n(4),r=i.document,s=o(r)&&o(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},function(t,e,n){var i=n(0),o=n(16),r=i["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=r},function(t,e,n){var i,o,r,s=n(44),a=n(0),c=n(4),u=n(9),h=n(2),l=n(45),d=n(27),f=a.WeakMap;if(s){var p=new f,v=p.get,g=p.has,x=p.set;i=function(t,e){return x.call(p,t,e),e},o=function(t){return v.call(p,t)||{}},r=function(t){return g.call(p,t)}}else{var y=l("state");d[y]=!0,i=function(t,e){return u(t,y,e),e},o=function(t){return h(t,y)?t[y]:{}},r=function(t){return h(t,y)}}t.exports={set:i,get:o,has:r,enforce:function(t){return r(t)?o(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(25),o=n(22);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:i?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(29),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(3),o=/#|\.prototype\./,r=function(t,e){var n=a[s(t)];return n==u||n!=c&&("function"==typeof e?i(e):!!e)},s=r.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=r.data={},c=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},function(t,e,n){var i=n(3);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e){t.exports={}},function(t,e,n){var i=n(11);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i,o,r,s=n(0),a=n(3),c=n(7),u=n(33),h=n(69),l=n(21),d=n(35),f=s.location,p=s.setImmediate,v=s.clearImmediate,g=s.process,x=s.MessageChannel,y=s.Dispatch,m=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},P=function(t){return function(){w(t)}},S=function(t){w(t.data)},E=function(t){s.postMessage(t+"",f.protocol+"//"+f.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++m]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(m),m},v=function(t){delete b[t]},"process"==c(g)?i=function(t){g.nextTick(P(t))}:y&&y.now?i=function(t){y.now(P(t))}:x&&!d?(r=(o=new x).port2,o.port1.onmessage=S,i=u(r.postMessage,r,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(E)?i="onreadystatechange"in l("script")?function(t){h.appendChild(l("script")).onreadystatechange=function(){h.removeChild(this),w(t)}}:function(t){setTimeout(P(t),0)}:(i=E,s.addEventListener("message",S,!1))),t.exports={set:p,clear:v}},function(t,e,n){var i=n(36);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(t,e,n){var i=n(8);t.exports=i("navigator","userAgent")||""},function(t,e,n){"use strict";var i=n(11),o=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new o(t)}},function(e,n){e.exports=t},function(t,e,n){var i=n(0),o=n(13).f,r=n(9),s=n(15),a=n(16),c=n(46),u=n(30);t.exports=function(t,e){var n,h,l,d,f,p=t.target,v=t.global,g=t.stat;if(n=v?i:g?i[p]||a(p,{}):(i[p]||{}).prototype)for(h in e){if(d=e[h],l=t.noTargetGet?(f=o(n,h))&&f.value:n[h],!u(v?h:p+(g?".":"#")+h,t.forced)&&void 0!==l){if(typeof d==typeof l)continue;c(d,l)}(t.sham||l&&l.sham)&&r(d,"sham",!0),s(n,h,d,t)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);e.f=r?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},function(t,e,n){var i=n(3),o=n(7),r="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?r.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(0),o=n(17),r=i.WeakMap;t.exports="function"==typeof r&&/native code/.test(o(r))},function(t,e,n){var i=n(24),o=n(26),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var i=n(2),o=n(47),r=n(13),s=n(10);t.exports=function(t,e){for(var n=o(e),a=s.f,c=r.f,u=0;u<n.length;u++){var h=n[u];i(t,h)||a(t,h,c(e,h))}}},function(t,e,n){var i=n(8),o=n(49),r=n(54),s=n(5);t.exports=i("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(0);t.exports=i},function(t,e,n){var i=n(50),o=n(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(2),o=n(14),r=n(51).indexOf,s=n(27);t.exports=function(t,e){var n,a=o(t),c=0,u=[];for(n in a)!i(s,n)&&i(a,n)&&u.push(n);for(;e.length>c;)i(a,n=e[c++])&&(~r(u,n)||u.push(n));return u}},function(t,e,n){var i=n(14),o=n(28),r=n(52),s=function(t){return function(e,n,s){var a,c=i(e),u=o(c.length),h=r(s,u);if(t&&n!=n){for(;u>h;)if((a=c[h++])!=a)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var i=n(29),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(0);t.exports=i.Promise},function(t,e,n){var i=n(15);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},function(t,e,n){var i=n(10).f,o=n(2),r=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(31);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){"use strict";var i=n(8),o=n(10),r=n(1),s=n(6),a=r("species");t.exports=function(t){var e=i(t),n=o.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i=n(5),o=n(62),r=n(28),s=n(33),a=n(63),c=n(66),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,h,l){var d,f,p,v,g,x,y,m=s(e,n,h?2:1);if(l)d=t;else{if("function"!=typeof(f=a(t)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,v=r(t.length);v>p;p++)if((g=h?m(i(y=t[p])[0],y[1]):m(t[p]))&&g instanceof u)return g;return new u(!1)}d=f.call(t)}for(x=d.next;!(y=x.call(d)).done;)if("object"==typeof(g=c(d,m,y.value,h))&&g&&g instanceof u)return g;return new u(!1)}).stop=function(t){return new u(!0,t)}},function(t,e,n){var i=n(1),o=n(32),r=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[r]===t)}},function(t,e,n){var i=n(64),o=n(32),r=n(1)("iterator");t.exports=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(65),o=n(7),r=n(1)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=i?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:s?o(e):"Object"==(i=o(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var i={};i[n(1)("toStringTag")]="z",t.exports="[object z]"===String(i)},function(t,e,n){var i=n(5);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(1)("iterator"),o=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){var i=n(5),o=n(11),r=n(1)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[r])?e:o(n)}},function(t,e,n){var i=n(8);t.exports=i("document","documentElement")},function(t,e,n){var i,o,r,s,a,c,u,h,l=n(0),d=n(13).f,f=n(7),p=n(34).set,v=n(35),g=l.MutationObserver||l.WebKitMutationObserver,x=l.process,y=l.Promise,m="process"==f(x),b=d(l,"queueMicrotask"),w=b&&b.value;w||(i=function(){var t,e;for(m&&(t=x.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():r=void 0,t}}r=void 0,t&&t.enter()},m?s=function(){x.nextTick(i)}:g&&!v?(a=!0,c=document.createTextNode(""),new g(i).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):y&&y.resolve?(u=y.resolve(void 0),h=u.then,s=function(){h.call(u,i)}):s=function(){p.call(l,i)}),t.exports=w||function(t){var e={fn:t,next:void 0};r&&(r.next=e),o||(o=e,s()),r=e}},function(t,e,n){var i=n(5),o=n(4),r=n(37);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(0);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var i,o,r=n(0),s=n(36),a=r.process,c=a&&a.versions,u=c&&c.v8;u?o=(i=u.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(o=i[1]),t.exports=o&&+o},function(t,e,n){"use strict";n.r(e);n(12);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class o{constructor(t,e,n,o){i(this,"persistence",void 0),i(this,"criticalType",void 0),i(this,"coordinates",void 0),i(this,"lower",void 0),i(this,"upper",void 0),this.lower=t,this.upper=e,this.criticalType=n,this.coordinates=o,this.persistence=e.y-t.y}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class s{constructor(t={enableArray:!0,fetchGzip:!1}){if(r(this,"settings",void 0),r(this,"reader",void 0),r(this,"rawPointData",void 0),r(this,"criticalTypeData",void 0),r(this,"coordinateData",void 0),void 0===window.vtk)throw new Error("VTK.js is required.");this.settings=t,this.reader=window.vtk.IO.Core.vtkHttpDataSetReader.newInstance(this.settings)}getReader(){return this.reader}load(t){return new Promise((e,n)=>{this.reader.setUrl(t).then(i=>{i.loadData().then(()=>{const n=i.getOutputData().getPoints().getData(),o=i.getOutputData().getPointData();if(n.length%3!=0)throw new Error("Number of points not dividable by 3.");this.rawPointData=n,this.criticalTypeData=o.getArray(1).getData(),this.coordinateData=o.getArray(2).getData();const r=[];let s=0;for(let t=0;t<n.length;t+=6)r.push(this.createPointTuple(t,s)),s+=2;console.info(`VKT data for file ${t} loaded.`),e({points:r,bounds:i.getOutputData().getBounds(),persistenceBounds:r.reduce((t,e)=>(t.min=0===t.min||e.persistence<t.min?e.persistence:t.min,t.max=0===t.max||e.persistence>t.max?e.persistence:t.max,t),{min:0,max:0})})}).catch(t=>{n(`Loader Error: ${t}.`)})}).catch(()=>{n(`Could not access data at ${t}.`)})})}createPointTuple(t,e){if(void 0===this.rawPointData||void 0===this.coordinateData||void 0===this.criticalTypeData)throw new Error("Can't create PersistencePointTuple from undefined data.");const n={x:this.rawPointData[t],y:this.rawPointData[t+1],z:this.rawPointData[t+2]},i={x:this.rawPointData[t+3],y:this.rawPointData[t+4],z:this.rawPointData[t+5]},r={lower:this.criticalTypeData[e],upper:this.criticalTypeData[e+1]},s={lower:{x:this.coordinateData[t],y:this.coordinateData[t+1],z:this.coordinateData[t+2]},upper:{x:this.coordinateData[t+3],y:this.coordinateData[t+4],z:this.coordinateData[t+5]}};return new o(n,i,r,s)}}let a;!function(t){t.DataLoaded="dataloaded",t.SelectionStart="selectionstart",t.SelectionUpdating="selectionupdating",t.SelectionHidden="selectionhidden",t.SelectionEnd="selectionend",t.SliderDestroyed="sliderdestroyed",t.SliderCreated="slidercreated",t.PersistenceBoundsUpdating="persistenceboundsupdating",t.PersistenceBoundsSet="persistenceboundsset",t.PointsDrawn="pointsdrawn",t.PointsCleared="pointscleared"}(a||(a={}));class c{constructor(t){var e,n,i;i=void 0,(n="target")in(e=this)?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,this.target=t}dispatch(t,e){let n;n=void 0!==e?new CustomEvent(t,{detail:e}):new Event(t),this.target.dispatchEvent(n)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class h{constructor(t){u(this,"id",void 0),u(this,"events",void 0),u(this,"controlData",void 0),u(this,"pointData",void 0),this.id=t.id,this.events=t.events,this.controlData=t,this.pointData=t}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class d extends h{constructor(...t){super(...t),l(this,"element",void 0),l(this,"_context",void 0),l(this,"waitFor",()=>new Promise(t=>setTimeout(t,this.controlData.settings.waitTime)))}update(t){return this.pointData=t,this.element.classList.remove("hidden"),this.draw()}init(){this.createElement()}getContext(){return this._context}getElement(){return this.element}getCanvas(){return this.getElement()}xPos(t){return(t-this.pointData.xMin())/(this.pointData.xMax()-this.pointData.xMin())*(this.rangeXMax-this.rangeXMin)+this.rangeXMin}yPos(t){return(t-this.pointData.yMin())/(this.pointData.yMax()-this.pointData.yMin())*(this.rangeYMax-this.rangeYMin)+this.rangeYMin}createElement(){const t=document.createElement("canvas");t.id=`persistence_canvas_${this.id}`,t.classList.add("persistence_canvas","hidden"),t.width=this.controlData.settings.canvasWidth,t.height=this.controlData.settings.canvasHeight;const e=t.getContext("2d");e.strokeStyle=this.controlData.settings.strokeStyle,this.element=t,this._context=e}draw(){if(void 0===this._context)throw new Error("Canvas Context is undefined");const t=this.pointData.filteredPointsChunked();this.events.dispatch(a.PointsCleared),this._context.clearRect(0,0,this.controlData.settings.canvasWidth,this.controlData.settings.canvasHeight),this.drawLine(),this.controlData.settings.enableTicks&&this.drawAxes();const e=[];t.forEach((n,i)=>{console.debug(`Drawing point chunk ${i+1} / ${t.length}`),e.push(this.drawPoints(n))});const n=Promise.all(e);return n.then(()=>{this.events.dispatch(a.PointsDrawn)}),n}async drawPoints(t){await this.waitFor(),t.forEach(t=>{if(void 0===this._context)throw new Error("Canvas Context is undefined");const e={x:this.xPos(t.lower.x),y:this.yPos(t.lower.y)},n={x:this.xPos(t.upper.x),y:this.yPos(t.upper.y)};this._context.beginPath(),this._context.moveTo(e.x,e.y),this._context.lineTo(n.x,n.y),this._context.stroke()})}drawLine(){if(0===this.pointData.points.length||void 0===this._context)return void console.error("Can't draw persistence line without points.");const t=this.pointData.points[0],e=this.pointData.points[this.pointData.points.length-1];this.getContext().beginPath(),this.getContext().moveTo(this.xPos(t.lower.x),this.yPos(t.lower.y)),this.getContext().lineTo(this.xPos(e.lower.x),this.yPos(e.lower.y)),this.getContext().stroke()}drawAxes(){this.getContext().beginPath(),this.getContext().moveTo(this.xPos(0),this.yPos(this.pointData.yMax())),this.getContext().lineTo(this.xPos(0),this.yPos(0)),this.getContext().moveTo(this.xPos(0),this.yPos(0)),this.getContext().lineTo(this.xPos(this.pointData.xMax()),this.yPos(0)),this.getContext().stroke(),this.getContext().fillStyle=this.controlData.settings.strokeStyle,this.getContext().fillText(this.pointData.xMin().toFixed(2),this.xPos(0),this.yPos(0)+this.controlData.settings.padding),this.getContext().fillText(this.pointData.xMax().toFixed(2),this.xPos(this.pointData.xMax()),this.yPos(0)+this.controlData.settings.padding),this.getContext().fillText(this.pointData.yMin().toFixed(2),this.xPos(0)-this.controlData.settings.padding,this.yPos(0)),this.getContext().fillText(this.pointData.yMax().toFixed(2),this.xPos(0)-this.controlData.settings.padding,this.yPos(this.pointData.yMax())),this.getContext().textAlign="center",this.getContext().textBaseline="bottom";for(let t=1;t<5;++t){const e=(this.pointData.xMax()-this.pointData.xMin())/5*t,n=(this.pointData.yMax()-this.pointData.yMin())/5*t;this.getContext().beginPath(),this.getContext().moveTo(this.xPos(e),this.yPos(0)),this.getContext().lineTo(this.xPos(e),this.yPos(0)+5),this.getContext().stroke(),this.getContext().beginPath(),this.getContext().moveTo(this.xPos(0),this.yPos(n)),this.getContext().lineTo(this.xPos(0)-5,this.yPos(n)),this.getContext().stroke(),this.getContext().fillText(e.toFixed(2),this.xPos(e),this.yPos(0)+this.controlData.settings.padding),this.getContext().fillText(n.toFixed(2),this.xPos(0)-this.controlData.settings.padding,this.yPos(n))}this.getContext().fill()}get rangeXMin(){return this.controlData.settings.padding}get rangeXMax(){return this.controlData.settings.canvasWidth-this.controlData.settings.padding}get rangeYMin(){return this.controlData.settings.canvasHeight-this.controlData.settings.padding}get rangeYMax(){return this.controlData.settings.padding}}var f=n(38),p=n.n(f);function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class g{constructor(t,e){v(this,"min",void 0),v(this,"max",void 0),this.min=t,this.max=e}equals(t){return this.min===t.min&&this.max===t.max}}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class y extends h{constructor(...t){super(...t),x(this,"element",void 0),x(this,"selectedPersistenceBounds",void 0),x(this,"noUiSlider",void 0)}getElement(){return this.element}init(){this.createElement()}update(t){if(void 0!==this.selectedPersistenceBounds&&this.selectedPersistenceBounds.equals(t.activePersistenceBounds))return;this.pointData=t;const{element:e}=this;void 0!==this.noUiSlider&&(this.noUiSlider.destroy(),this.selectedPersistenceBounds=void 0,this.events.dispatch(a.SliderDestroyed)),p.a.create(e,{start:[t.persistenceBounds.min,t.persistenceBounds.max],snap:!1,animate:!1,connect:!0,range:t.persistenceBounds}),this.events.dispatch(a.SliderCreated),this.noUiSlider=e.noUiSlider,this.addListener()}createElement(){if(void 0===window.noUiSlider)throw new Error("noUiSlider is required");const t=document.createElement("div");t.id=`persistence_slider_${this.id}`,t.classList.add("persistence_slider"),this.element=t}addListener(){void 0!==this.noUiSlider?(this.noUiSlider.on("update",t=>{this.selectedPersistenceBounds=new g(t[0],t[1]),this.events.dispatch(a.PersistenceBoundsUpdating,this.selectedPersistenceBounds)}),this.noUiSlider.on("set",t=>{this.selectedPersistenceBounds=new g(t[0],t[1]),this.events.dispatch(a.PersistenceBoundsSet,this.selectedPersistenceBounds),this.pointData.setActivePersistenceBounds(this.selectedPersistenceBounds)})):console.error("Trying to add event listeners to non existing noUiSlider.")}}const m={padding:10,canvasWidth:500,canvasHeight:500,strokeStyle:"#000",enableTicks:!0,chunks:100,waitTime:150,enableSelection:!0,enableSlider:!0};function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class w extends h{constructor(...t){super(...t),b(this,"element",void 0),b(this,"canvas",void 0),b(this,"selectionBounds",void 0),b(this,"selectionStart",0)}getElement(){return this.element}init(){this.createElement()}update(){}createElement(){const t=document.createElement("div");t.id=`persistence_selection_${this.id}`,t.classList.add("persistence_selection"),Object.assign(t.style,{backgroundColor:"rgba(221,221,225,0.8)",border:"1px solid #ddf",width:"0px",height:"0px",mixBlendMode:"difference",display:"none",willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"absolute",zIndex:1}),t.addEventListener("click",t=>{t.stopPropagation(),this.hideSelection(),this.pointData.setActiveSelectionBounds(this.selectionBounds)}),this.element=t,this.addListener()}addListener(){this.canvas=this.controlData.renderer.getCanvas(),this.canvas.addEventListener("mousedown",t=>{t.stopPropagation(),this.initSelection(t)}),this.canvas.addEventListener("mousemove",t=>{this.updateSelection(t)}),this.canvas.addEventListener("mouseup",()=>{console.log(this.element.offsetWidth),this.element.offsetWidth<10?this.hideSelection():(this.getSelectionBounds(),this.pointData.setActiveSelectionBounds(this.selectionBounds),this.events.dispatch(a.SelectionEnd))})}initSelection(t){const e=t.clientX-this.canvas.getBoundingClientRect().left+this.canvas.offsetLeft;this.selectionStart=t.clientX,Object.assign(this.getElement().style,{width:"0px",height:`${this.controlData.settings.canvasHeight-this.controlData.settings.padding}px`,top:`${this.canvas.offsetTop}px`,left:`${e}px`}),this.events.dispatch(a.SelectionStart)}updateSelection(t){if(1!==t.buttons)return;let e;const n=this.canvas.getBoundingClientRect();t.clientX>=this.selectionStart?(this.getElement().style.removeProperty("right"),e={width:`${t.clientX-this.getElement().getBoundingClientRect().left}px`,left:`${this.selectionStart-n.left+this.canvas.offsetLeft}px`}):(this.getElement().style.removeProperty("left"),e={width:`${this.getElement().getBoundingClientRect().right-t.clientX}px`,right:`${n.right-this.selectionStart+this.canvas.offsetLeft}px`}),this.events.dispatch(a.SelectionUpdating),Object.assign(this.getElement().style,e,{display:"block"})}hideSelection(){Object.assign(this.getElement().style,{display:"none",width:0}),this.selectionBounds=void 0,this.selectionStart=0,this.events.dispatch(a.SelectionHidden)}getSelectionBounds(){if("none"===this.getElement().style.display)return void(this.selectionBounds=void 0);const t=Math.max(0,this.getElement().getBoundingClientRect().left-this.canvas.getBoundingClientRect().left);this.selectionBounds=new g(t,t+this.getElement().getBoundingClientRect().width)}}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return S}));class S{constructor(t,e,n={}){if(P(this,"container",void 0),P(this,"id",void 0),P(this,"events",void 0),P(this,"settings",{}),P(this,"_renderer",void 0),P(this,"_points",void 0),P(this,"_pointChunks",void 0),P(this,"_bounds",void 0),P(this,"_persistenceBounds",void 0),P(this,"_activePersistenceBounds",void 0),P(this,"_activeSelectionBounds",void 0),P(this,"controlElements",void 0),P(this,"loader",void 0),"string"==typeof t){const e=document.querySelector(t);if(null===e)throw new Error(`Element with query selector ${t} not found.`);this.container=e}else{if(!(t instanceof HTMLElement))throw new Error("Container is neither a string nor an instance of HTMLElement.");this.container=t}this.id=e,Object.assign(this.settings,m,n),this.loader=new s,this.events=new c(this.container),this.controlElements=new Array,this.createControlElements()}setLoader(t){this.loader=t}async load(t){return this.loader.load(t).then(t=>{this._points=t.points,this._pointChunks=this.chunkPoints(t.points),this._bounds=t.bounds,this._persistenceBounds=t.persistenceBounds,this._activePersistenceBounds=void 0,this._activeSelectionBounds=void 0,this.events.dispatch(a.DataLoaded)})}get renderer(){return this._renderer}update(){this.controlElements.forEach(t=>{t.update(this)})}get points(){return void 0===this._points?[]:this._points}get pointChunks(){return void 0===this._pointChunks?[]:this._pointChunks}get bounds(){return void 0===this._bounds?[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY]:this._bounds}get persistenceBounds(){return void 0===this._persistenceBounds?new g(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._persistenceBounds}get activePersistenceBounds(){return void 0===this._activePersistenceBounds?new g(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._activePersistenceBounds}setActivePersistenceBounds(t){this._activePersistenceBounds=t,this.update()}get activeSelectionBounds(){return void 0===this._activeSelectionBounds?new g(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._activeSelectionBounds}setActiveSelectionBounds(t){this._activeSelectionBounds=t,this.update()}xMin(){return this.bounds[0]}xMax(){return this.bounds[1]}yMin(){return this.bounds[2]}yMax(){return this.bounds[3]}filteredPoints(){return void 0===this.points?[]:this.filterPersistence(this.filterSelection(this.points))}filteredPointsChunked(){return this.chunkPoints(this.filteredPoints())}createControlElements(){const t=new d(this);if(t.init(),this.container.appendChild(t.getElement()),this.controlElements.push(t),this._renderer=t,this.settings.enableSelection){const t=new w(this);t.init(),this.container.appendChild(t.getElement()),this.controlElements.push(t)}if(this.settings.enableSlider){const t=new y(this);t.init(),this.container.appendChild(t.getElement()),this.controlElements.push(t)}}filterSelection(t){return void 0===this._renderer?t:t.filter(t=>this._renderer.xPos(t.lower.x)>=this.activeSelectionBounds.min&&this._renderer.xPos(t.lower.x)<=this.activeSelectionBounds.max)}filterPersistence(t){return t.filter(t=>t.persistence>=Number(this.activePersistenceBounds.min)&&t.persistence<=Number(this.activePersistenceBounds.max))}chunkPoints(t){return t.reduce((t,e,n)=>{const i=Math.floor(n/this.settings.chunks);return t[i]||(t[i]=[]),t[i].push(e),t},[])}}}]).default}));