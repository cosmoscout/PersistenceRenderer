!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("noUiSlider")):"function"==typeof define&&define.amd?define("PersistenceRenderer",["noUiSlider"],t):"object"==typeof exports?exports.PersistenceRenderer=t(require("noUiSlider")):e.PersistenceRenderer=t(e.noUiSlider)}(window,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var o=function e(t,n,o,r,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"persistence",void 0),i(this,"x1",void 0),i(this,"y1",void 0),i(this,"z1",void 0),i(this,"x2",void 0),i(this,"y2",void 0),i(this,"z2",void 0),this.x1=t,this.y1=n,this.z1=o,this.x2=r,this.y2=s,this.z2=a,this.persistence=s-n};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c,u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableArray:!0,fetchGzip:!1};if(r(this,e),a(this,"settings",void 0),a(this,"reader",void 0),void 0===window.vtk)throw new Error("VTK.js is required.");this.settings=t,this.reader=window.vtk.IO.Core.vtkHttpDataSetReader.newInstance(this.settings)}var t,n,i;return t=e,(n=[{key:"getReader",value:function(){return this.reader}},{key:"load",value:function(e){var t=this;return new Promise((function(n,i){t.reader.setUrl(e).then((function(t){t.loadData().then((function(){var i=t.getOutputData().getPoints().getData();if(i.length%3!=0)throw new Error("Number of points not dividable by 3.");for(var r=[],s=0;s<i.length;s+=6)r.push(new o(i[s],i[s+1],i[s+2],i[s+3],i[s+4],i[s+5]));console.info("VKT data for file ".concat(e," loaded.")),n({points:r,bounds:t.getOutputData().getBounds(),outputData:t.getOutputData(),persistenceBounds:r.reduce((function(e,t){return e.min=0===e.min||t.persistence<e.min?t.persistence:e.min,e.max=0===e.max||t.persistence>e.max?t.persistence:e.max,e}),{min:0,max:0})})})).catch((function(){i()}))})).catch((function(){i()}))}))}}])&&s(t.prototype,n),i&&s(t,i),e}();function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}!function(e){e.DataLoaded="dataloaded",e.SelectionStart="selectionstart",e.SelectionUpdating="selectionupdating",e.SelectionHidden="selectionhidden",e.SelectionEnd="selectionend",e.SliderDestroyed="sliderdestroyed",e.SliderCreated="slidercreated",e.PersistenceBoundsUpdating="persistenceboundsupdating",e.PersistenceBoundsSet="persistenceboundsset",e.PointsDrawn="pointsdrawn",e.PointsCleared="pointscleared"}(c||(c={}));var d=function(){function e(t){var n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(i="target")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.target=t}var t,n,i;return t=e,(n=[{key:"dispatch",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t=void 0!==n?new CustomEvent(e,{detail:n}):new Event(e),this.target.dispatchEvent(t)}}])&&l(t.prototype,n),i&&l(t,i),e}();function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"id",void 0),f(this,"events",void 0),f(this,"controlData",void 0),f(this,"pointData",void 0),this.id=t.id,this.events=t.events,this.controlData=t,this.pointData=t,this.createElement()};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,o)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?w(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e,n;y(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return x(w(n=g(this,(e=m(t)).call.apply(e,[this].concat(o)))),"element",void 0),x(w(n),"_context",void 0),x(w(n),"waitFor",(function(){return new Promise((function(e){return setTimeout(e,n.controlData.settings.waitTime)}))})),n}var n,i,o,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),n=t,(i=[{key:"createElement",value:function(){var e=document.createElement("canvas");e.id="persistence_canvas_".concat(this.id),e.classList.add("persistence_canvas","hidden"),e.width=this.controlData.settings.canvasWidth,e.height=this.controlData.settings.canvasHeight;var t=e.getContext("2d");t.strokeStyle=this.controlData.settings.strokeStyle,this.element=e,this._context=t}},{key:"getContext",value:function(){return this._context}},{key:"update",value:function(e){return this.pointData=e,this.element.classList.remove("hidden"),this.draw()}},{key:"getElement",value:function(){return this.element}},{key:"getCanvas",value:function(){return this.getElement()}},{key:"xPos",value:function(e){return(e-this.pointData.xMin())/(this.pointData.xMax()-this.pointData.xMin())*(this.rangeXMax-this.rangeXMin+this.rangeXMin)}},{key:"yPos",value:function(e){return(e-this.pointData.yMin())/(this.pointData.yMax()-this.pointData.yMin())*(this.rangeYMax-this.rangeYMin+this.rangeYMin)}},{key:"draw",value:function(){var e=this;if(void 0===this._context)throw new Error("Canvas Context is undefined");var t=this.pointData.filteredPointsChunked();this.events.dispatch(c.PointsCleared),this._context.clearRect(0,0,this.controlData.settings.canvasWidth,this.controlData.settings.canvasHeight),this.drawLine();var n=[];t.forEach((function(i,o){console.debug("Drawing point chunk ".concat(o+1," / ").concat(t.length)),n.push(e.drawPoints(i))}));var i=Promise.all(n);return i.then((function(){e.events.dispatch(c.PointsDrawn)})),i}},{key:"drawPoints",value:(r=regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.waitFor();case 2:t.forEach((function(e){if(void 0===n._context)throw new Error("Canvas Context is undefined");var t={x:n.xPos(e.x1),y:n.yPos(e.y1)},i={x:n.xPos(e.x2),y:n.yPos(e.y2)};n._context.beginPath(),n._context.moveTo(t.x,t.y),n._context.lineTo(i.x,i.y),n._context.stroke()}));case 3:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){v(o,n,i,s,a,"next",e)}function a(e){v(o,n,i,s,a,"throw",e)}s(void 0)}))},function(e){return s.apply(this,arguments)})},{key:"drawLine",value:function(){if(0!==this.pointData.points.length&&void 0!==this._context){var e=this.pointData.points[0],t=this.pointData.points[this.pointData.points.length-1];this._context.beginPath(),this._context.moveTo(this.xPos(e.x1),this.yPos(e.y1)),this._context.lineTo(this.xPos(t.x1),this.yPos(t.y1)),this._context.stroke()}else console.error("Can't draw persistence line without points.")}},{key:"rangeXMin",get:function(){return this.controlData.settings.padding}},{key:"rangeXMax",get:function(){return this.controlData.settings.canvasWidth-this.controlData.settings.padding}},{key:"rangeYMin",get:function(){return this.controlData.settings.canvasHeight-this.controlData.settings.padding}},{key:"rangeYMax",get:function(){return this.controlData.settings.padding}}])&&b(n.prototype,i),o&&b(n,o),t}(h),S=n(0),E=n.n(S);function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"min",void 0),O(this,"max",void 0),this.min=t,this.max=n}var t,n,i;return t=e,(n=[{key:"equals",value:function(e){return this.min===e.min&&this.max===e.max}}])&&k(t.prototype,n),i&&k(t,i),e}();function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function D(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?N(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){var e,n;T(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return L(N(n=D(this,(e=C(t)).call.apply(e,[this].concat(o)))),"element",void 0),L(N(n),"selectedPersistenceBounds",void 0),L(N(n),"noUiSlider",void 0),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,e),n=t,(i=[{key:"getElement",value:function(){return this.element}},{key:"update",value:function(e){if(void 0===this.selectedPersistenceBounds||!this.selectedPersistenceBounds.equals(e.activePersistenceBounds)){this.pointData=e;var t=this.element;void 0!==this.noUiSlider&&(this.noUiSlider.destroy(),this.selectedPersistenceBounds=void 0,this.events.dispatch(c.SliderDestroyed)),E.a.create(t,{start:[e.persistenceBounds.min,e.persistenceBounds.max],snap:!1,animate:!1,connect:!0,range:e.persistenceBounds}),this.events.dispatch(c.SliderCreated),this.noUiSlider=t.noUiSlider,this.addListener()}}},{key:"createElement",value:function(){if(void 0===window.noUiSlider)throw new Error("noUiSlider is required");var e=document.createElement("div");e.id="persistence_slider_".concat(this.id),e.classList.add("persistence_slider"),this.element=e}},{key:"addListener",value:function(){var e=this;void 0!==this.noUiSlider?(this.noUiSlider.on("update",(function(t){e.selectedPersistenceBounds=new B(t[0],t[1]),e.events.dispatch(c.PersistenceBoundsUpdating,e.selectedPersistenceBounds)})),this.noUiSlider.on("set",(function(t){e.selectedPersistenceBounds=new B(t[0],t[1]),e.events.dispatch(c.PersistenceBoundsSet,e.selectedPersistenceBounds),e.pointData.setActivePersistenceBounds(e.selectedPersistenceBounds)}))):console.error("Trying to add event listeners to non existing noUiSlider.")}}])&&j(n.prototype,i),o&&j(n,o),t}(h),U={padding:10,canvasWidth:500,canvasHeight:500,strokeStyle:"#000",chunks:100,waitTime:150,enableSelection:!0,enableSlider:!0};function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?X(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){var e,n;A(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return G(X(n=V(this,(e=H(t)).call.apply(e,[this].concat(o)))),"element",void 0),G(X(n),"canvas",void 0),G(X(n),"selectionBounds",void 0),G(X(n),"selectionStart",0),n}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),n=t,(i=[{key:"getElement",value:function(){return this.element}},{key:"update",value:function(){}},{key:"createElement",value:function(){var e=this,t=document.createElement("div");t.id="persistence_selection_".concat(this.id),t.classList.add("persistence_selection"),Object.assign(t.style,{backgroundColor:"rgba(221,221,225,0.8)",border:"1px solid #ddf",width:"0px",height:"0px",mixBlendMode:"difference",display:"none",willChange:"top, left, bottom, right, width, height",top:0,left:0,position:"absolute",zIndex:1}),t.addEventListener("click",(function(t){t.stopPropagation(),e.hideSelection(),e.pointData.setActiveSelectionBounds(e.selectionBounds)})),this.element=t,this.addListener()}},{key:"addListener",value:function(){var e=this;this.canvas=this.controlData.renderer.getCanvas(),this.canvas.addEventListener("mousedown",(function(t){t.stopPropagation(),e.initSelection(t)})),this.canvas.addEventListener("mousemove",(function(t){e.updateSelection(t)})),this.canvas.addEventListener("mouseup",(function(){e.getSelectionBounds(),e.pointData.setActiveSelectionBounds(e.selectionBounds),e.events.dispatch(c.SelectionEnd)}))}},{key:"initSelection",value:function(e){var t=e.clientX-this.canvas.getBoundingClientRect().left+this.canvas.offsetLeft;this.selectionStart=e.clientX,Object.assign(this.getElement().style,{display:"block",width:"0px",height:"".concat(this.canvas.offsetHeight,"px"),top:"".concat(this.canvas.offsetTop,"px"),left:"".concat(t,"px")}),this.events.dispatch(c.SelectionStart)}},{key:"updateSelection",value:function(e){if(1===e.buttons){var t,n=this.canvas.getBoundingClientRect();e.clientX>=this.selectionStart?(this.getElement().style.removeProperty("right"),t={width:"".concat(e.clientX-this.getElement().getBoundingClientRect().left,"px"),left:"".concat(this.selectionStart-n.left+this.canvas.offsetLeft,"px")}):(this.getElement().style.removeProperty("left"),t={width:"".concat(this.getElement().getBoundingClientRect().right-e.clientX,"px"),right:"".concat(n.right-this.selectionStart+this.canvas.offsetLeft,"px")}),this.events.dispatch(c.SelectionUpdating),Object.assign(this.getElement().style,t)}}},{key:"hideSelection",value:function(){Object.assign(this.getElement().style,{display:"none",width:0}),this.selectionBounds=void 0,this.events.dispatch(c.SelectionHidden)}},{key:"getSelectionBounds",value:function(){if("none"!==this.getElement().style.display){var e=Math.max(0,this.getElement().getBoundingClientRect().left-this.canvas.getBoundingClientRect().left);this.selectionBounds=new B(e,e+this.getElement().getBoundingClientRect().width)}else this.selectionBounds=void 0}}])&&F(n.prototype,i),o&&F(n,o),t}(h);function W(e,t,n,i,o,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,o)}function K(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return Q}));var Q=function(){function e(t,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),J(this,"container",void 0),J(this,"id",void 0),J(this,"events",void 0),J(this,"settings",{}),J(this,"_renderer",void 0),J(this,"_points",void 0),J(this,"_pointChunks",void 0),J(this,"_bounds",void 0),J(this,"_persistenceBounds",void 0),J(this,"_activePersistenceBounds",void 0),J(this,"_activeSelectionBounds",void 0),J(this,"controlElements",void 0),J(this,"loader",void 0),"string"==typeof t){var o=document.querySelector(t);if(null===o)throw new Error("Element with query selector ".concat(t," not found."));this.container=o}else{if(!(t instanceof HTMLElement))throw new Error("Container is neither a string nor an instance of HTMLElement.");this.container=t}this.id=n,Object.assign(this.settings,U,i),this.loader=new u,this.events=new d(this.container),this.controlElements=new Array,this.createControlElements()}var t,n,i,o,r;return t=e,(n=[{key:"setLoader",value:function(e){this.loader=e}},{key:"load",value:(o=regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.load(t).then((function(e){n._points=e.points,n._pointChunks=n.chunkPoints(e.points),n._bounds=e.bounds,n._persistenceBounds=e.persistenceBounds,n._activePersistenceBounds=void 0,n._activeSelectionBounds=void 0,n.events.dispatch(c.DataLoaded)}));case 2:case"end":return e.stop()}}),e,this)})),r=function(){var e=this,t=arguments;return new Promise((function(n,i){var r=o.apply(e,t);function s(e){W(r,n,i,s,a,"next",e)}function a(e){W(r,n,i,s,a,"throw",e)}s(void 0)}))},function(e){return r.apply(this,arguments)})},{key:"update",value:function(){var e=this;this.controlElements.forEach((function(t){t.update(e)}))}},{key:"setActivePersistenceBounds",value:function(e){this._activePersistenceBounds=e,this.update()}},{key:"setActiveSelectionBounds",value:function(e){this._activeSelectionBounds=e,this.update()}},{key:"xMin",value:function(){return this.bounds[0]}},{key:"xMax",value:function(){return this.bounds[1]}},{key:"yMin",value:function(){return this.bounds[2]}},{key:"yMax",value:function(){return this.bounds[3]}},{key:"filteredPoints",value:function(){return void 0===this.points?[]:this.filterPersistence(this.filterSelection(this.points))}},{key:"filteredPointsChunked",value:function(){return this.chunkPoints(this.filteredPoints())}},{key:"createControlElements",value:function(){var e=new _(this);if(this.container.appendChild(e.getElement()),this.controlElements.push(e),this._renderer=e,this.settings.enableSelection){var t=new z(this);this.container.appendChild(t.getElement()),this.controlElements.push(t)}if(this.settings.enableSlider){var n=new R(this);this.container.appendChild(n.getElement()),this.controlElements.push(n)}}},{key:"filterSelection",value:function(e){var t=this;return void 0===this._renderer?e:e.filter((function(e){return t._renderer.xPos(e.x1)>=t.activeSelectionBounds.min&&t._renderer.xPos(e.x1)<=t.activeSelectionBounds.max}))}},{key:"filterPersistence",value:function(e){var t=this;return e.filter((function(e){return e.persistence>=Number(t.activePersistenceBounds.min)&&e.persistence<=Number(t.activePersistenceBounds.max)}))}},{key:"chunkPoints",value:function(e){var t=this;return e.reduce((function(e,n,i){var o=Math.floor(i/t.settings.chunks);return e[o]||(e[o]=[]),e[o].push(n),e}),[])}},{key:"renderer",get:function(){return this._renderer}},{key:"points",get:function(){return void 0===this._points?[]:this._points}},{key:"pointChunks",get:function(){return void 0===this._pointChunks?[]:this._pointChunks}},{key:"bounds",get:function(){return void 0===this._bounds?[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY]:this._bounds}},{key:"persistenceBounds",get:function(){return void 0===this._persistenceBounds?new B(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._persistenceBounds}},{key:"activePersistenceBounds",get:function(){return void 0===this._activePersistenceBounds?new B(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._activePersistenceBounds}},{key:"activeSelectionBounds",get:function(){return void 0===this._activeSelectionBounds?new B(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):this._activeSelectionBounds}}])&&K(t.prototype,n),i&&K(t,i),e}()}]).default}));